<div dir="rtl" style="text-align: right;">

> ⚙️ **Template Notice:**  
> קובץ זה הוא תבנית רשמית של Docs-as-System.  
> אין לערוך אותו ישירות בתוך הפרויקט — בעת אתחול מערכת חדשה, יש להעתיק אותו אל תיקייה בשם `docs/planning/`  
> ולשמור את הקובץ בשם `PROJECT_SPEC.md` ולהתאים אותו לפרויקט.

# תבנית אפיון לוגי — Logical Specification

**מסמך בפרויקט בפועל:** `docs/planning/PROJECT_SPEC.md`  
**תבנית בתיקיית התבניות:** `templates/planning/PROJECT_SPEC_TEMPLATE.md`  
**יוצר:** סוכן AI (בהנחיה של אדם)  
**מאשר:** אדם (מנהל מוצר / ארכיטקט / Tech Lead)  
**סוג אפיון:** אפיון לוגי  

---

## מטרת המסמך

המסמך מתרגם את הדרישות העסקיות ל־"מה" שהמערכת עושה בפועל.  
הוא מתאר את ההתנהגות הלוגית של המערכת מנקודת מבט המשתמשים והמערכות החיצוניות.  
אין בו החלטות טכניות — רק הגדרה של תהליכים, תרחישים, זרימות וקלטים/פלטים.  
זהו הגשר שבין הצורך העסקי לארכיטקטורה הטכנית.

---

## תקציר כללי

תיאור קצר וברור של הפתרון המוצע:  
מה המערכת עושה, למי היא נועדה, ואיך היא עונה על הדרישות העסקיות שהוגדרו במסמך `BUSINESS_REQUIREMENTS.md`.

_(למילוי ע"י אדם או ע"י הסוכן בהנחיית אדם)_

---

## שחקנים (Actors)

כל גורם שמתקשר עם המערכת — משתמש אנושי, מערכת חיצונית, סוכן AI, API אחר וכדומה.

| שם השחקן | סוג | תיאור התפקיד | אינטראקציה עם המערכת |
|------------|------|----------------|-------------------------|
| (למילוי) | (אנושי/מערכת/סוכן AI) | (למילוי) | (קלט/פלט/שניהם) |

---

## תרחישים עיקריים (Use Cases)

תיאור התהליכים המרכזיים שהמערכת מבצעת כפי שהמשתמש או מערכת חיצונית חווים אותם.

**מבנה מומלץ לכל Use Case:**

- **שם:** (למילוי)  
- **שחקנים:** (למילוי)  
- **מטרה:** (מה השחקן מנסה להשיג)  
- **תהליך בסיסי:**  
  1. (צעד ראשון)  
  2. (צעד שני)  
  3. (תוצאה צפויה)  
- **תרחישי חריגים:** (מה קורה במקרה של כשל)  
- **תנאי הצלחה:** (מתי התרחיש נחשב שהושלם בהצלחה)

---

## תרשים זרימת נתונים (Logical Data Flow)

תיאור הזרימה הכללית של מידע בין רכיבי המערכת.  
ניתן לצרף דיאגרמה או תיאור טקסטואלי.

**מבנה מומלץ:**  
מקור נתונים → נקודת קליטה → עיבוד לוגי → יעד נתונים → תוצאה / התראה.

**דוגמה:**  
לקוח שולח בקשה → Web API מקבל → Validation → שמירה ב־DB → שליחת אישור.

---

## מבנה נתונים לוגי (Data Schema – Logical Level)

תיאור הישויות העיקריות, המאפיינים והקשרים ביניהן — ללא פירוט טכני (SQL או שמות שדות אמיתיים).

| ישות | תיאור | שדות עיקריים | קשרים לישויות אחרות |
|--------|----------|----------------|----------------------------|
| (למילוי) | (למילוי) | (למילוי) | (למילוי) |

---

## אירועים ותנאים (Events & Conditions)

תיאור האירועים המרכזיים במערכת ומה קורה בעקבות כל אחד מהם.

| אירוע | גורם מפעיל | תגובה לוגית | תוצאה צפויה |
|---------|--------------|----------------|----------------|
| (למילוי) | (למילוי) | (למילוי) | (למילוי) |

---

## כללים עסקיים (Business Rules)

מערכת הכללים שמגדירה את ההתנהגות הפנימית של המערכת.

| מזהה כלל | תיאור הכלל | תנאי הפעלה | הערות |
|------------|---------------|----------------|----------|
| BR-001 | (למילוי) | (למילוי) | (למילוי) |
| BR-002 | (למילוי) | (למילוי) | (למילוי) |

---

## תנאי קצה וחריגות (Edge Cases & Exceptions)

תרחישים חריגים ולא־שגרתיים שיכולים לשבור את הזרימה הרגילה.

- (לדוגמה: “הודעה מגיעה פעמיים”, “Timeout ממערכת חיצונית”)  
- (איך המערכת מגיבה בכל מקרה)

---

## דרישות לא תפקודיות (Non-Functional Requirements)

דרישות כלליות שאינן קשורות ללוגיקה עסקית אלא לאופן הפעולה.

| קטגוריה | תיאור דרישה | מדד הצלחה |
|-----------|-----------------|----------------|
| ביצועים | (לדוגמה: זמן תגובה ≤ 2 שניות) | (מדד) |
| אבטחה | (אימות, הצפנה, הרשאות) | (מדד) |
| נגישות | (תמיכה בשפות, ממשק נגיש) | (מדד) |
| תאימות | (רגולציה, ממשקים חיצוניים) | (מדד) |

---

## אינטגרציות וממשקים (Interfaces & External Systems)

פירוט הממשקים בין המערכת למערכות חיצוניות.

| מערכת / שירות | סוג ממשק | כיוון תקשורת | תדירות / טריגר |
|----------------|-------------|----------------|--------------------|
| (למילוי) | (API / Queue / Webhook וכו׳) | (Inbound / Outbound) | (למילוי) |

---

## הנחות ואילוצים (Assumptions & Constraints)

**הנחות:**  
- (למילוי)

**אילוצים:**  
- (לדוגמה: “אין אינטגרציה בזמן אמת עם מערכת X”)

---

## מדדי הצלחה (Validation Criteria)

תנאים שנדרש שיתקיימו כדי לאשר שהמערכת עומדת בהגדרה הלוגית שלה.

| תחום | מדד הצלחה | אופן מדידה |
|--------|----------------|------------------|
| חוויית משתמש | (למילוי) | (למילוי) |
| עיבוד נתונים | (למילוי) | (למילוי) |
| עקביות נתונים | (למילוי) | (למילוי) |

---

## לוגיקת אדם–סוכן (Human–Agent Logic)

אם המערכת כוללת רכיב סוכן (AI), יש להגדיר את גבולות האוטונומיה שלו:

- מתי הסוכן מופעל ומה הטריגר להפעלתו.  
- מהי רמת האוטונומיה שלו (הצעה, ביצוע, ניתוח בלבד).  
- איך הוא מעביר נתונים לאדם או למערכת אחרת.  
- אילו פעולות דורשות אישור אנושי.

**דוגמה:**  
כאשר מתקבל אירוע חריג ב־DLQ, הסוכן יוצר דו"ח הצעה לתיקון אך לא מבצע שינוי קוד בעצמו.

---

## סיכום

מסמך זה מתאר את **מה** שהמערכת עושה, לפני שמחליטים **איך** לבנות אותה.  
הוא מהווה את שלב המעבר מהתכנון העסקי (BRD) לארכיטקטורה (Blueprint).  
המטרה: לוודא שההיגיון הלוגי מובן, מתועד, וניתן למימוש בכל טכנולוגיה.

---

## תוצר צפוי

מסמך ברור ומפורט שממנו ניתן להבין את ההתנהגות הלוגית של המערכת —  
כולל זרימות, תהליכים, כללים ותגובות לכל מצב —  
כך שכל מפתח, בודק או סוכן ידע מה לבנות לפני כתיבת קוד.

---

## עקרון מסכם

כל מסמך בפרויקט הוא חלק ממערכת תיעודית אחת:  
מהכוונה העסקית (Business) → דרך ההגדרה הלוגית (Spec) →  
דרך המבנה הטכני (Blueprint) → ועד לתכנון, יישום ובדיקות.  

הסוכן מבצע ומתעד.  
האדם מגדיר ומאשר.  
והמערכת נבנית ומתוחזקת מתוך **תיעוד חי אחד** — מבוסס Git.

>© 2025 תומר קדם. חלק ממערך התבניות הרשמי של **Docs-as-System**.
</div>
